exec(__import__('base64').b64decode('aW1wb3J0IG9zCgpkZWYgYmFzZTY0X2N1c3RvbV9lbmNvZGUoZGF0YSk6CiAgICAiIiJFbmNvZGVzIGRhdGEgdXNpbmcgYSBjdXN0b20gQmFzZTY0IGVuY29kaW5nIGFsZ29yaXRobS4iIiIKICAgIGNoYXJzID0gIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iCiAgICBiaXRzID0gJycuam9pbihmb3JtYXQob3JkKGNoYXIpLCAnMDhiJykgZm9yIGNoYXIgaW4gZGF0YSkKICAgIHBhZGRlZF9iaXRzID0gYml0cyArICcwJyAqICgoNiAtIGxlbihiaXRzKSAlIDYpICUgNikKICAgIGluZGV4ZXMgPSBbaW50KHBhZGRlZF9iaXRzW2k6aSs2XSwgMikgZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKHBhZGRlZF9iaXRzKSwgNildCiAgICBlbmNvZGVkID0gJycuam9pbihjaGFyc1tpbmRleF0gZm9yIGluZGV4IGluIGluZGV4ZXMpCiAgICByZXR1cm4gZW5jb2RlZCArICc9JyAqICgoNCAtIGxlbihlbmNvZGVkKSAlIDQpICUgNCkKCmRlZiBlbmNvZGVfcHl0aG9uX2NvZGUoc291cmNlX2NvZGVfZmlsZSwgb3V0cHV0X2ZpbGUpOgogICAgIiIiRW5jb2RlcyB0aGUgY29udGVudCBvZiBhIFB5dGhvbiBzb3VyY2UgY29kZSBmaWxlIGFuZCB3cml0ZXMgYSBzZWxmLWRlY29kaW5nIHNjcmlwdCB0byBhbiBvdXRwdXQgZmlsZS4iIiIKICAgIHdpdGggb3Blbihzb3VyY2VfY29kZV9maWxlLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGZpbGU6CiAgICAgICAgc291cmNlX2NvZGUgPSBmaWxlLnJlYWQoKQoKICAgIGVuY29kZWRfY29kZSA9IGJhc2U2NF9jdXN0b21fZW5jb2RlKHNvdXJjZV9jb2RlKQoKICAgIHdpdGggb3BlbihvdXRwdXRfZmlsZSwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmaWxlOgogICAgICAgIGZpbGUud3JpdGUoZiJleGVjKF9faW1wb3J0X18oJ2Jhc2U2NCcpLmI2NGRlY29kZSgne2VuY29kZWRfY29kZX0nKS5kZWNvZGUoJ3V0Zi04JykpXG4iKQoKZGVmIGVuY29kZV9kaXJlY3Rvcnkoc291cmNlX2RpcmVjdG9yeSwgb3V0cHV0X2RpcmVjdG9yeSk6CiAgICAiIiJFbmNvZGVzIGFsbCBQeXRob24gZmlsZXMgaW4gdGhlIHNwZWNpZmllZCBkaXJlY3RvcnkgYW5kIG91dHB1dHMgdGhlbSB0byBhIG5ldyBkaXJlY3RvcnkuIiIiCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMob3V0cHV0X2RpcmVjdG9yeSk6CiAgICAgICAgb3MubWFrZWRpcnMob3V0cHV0X2RpcmVjdG9yeSkKCiAgICBmb3IgZmlsZW5hbWUgaW4gb3MubGlzdGRpcihzb3VyY2VfZGlyZWN0b3J5KToKICAgICAgICBpZiBmaWxlbmFtZS5lbmRzd2l0aCgnLnB5Jyk6CiAgICAgICAgICAgIHNvdXJjZV9jb2RlX2ZpbGUgPSBvcy5wYXRoLmpvaW4oc291cmNlX2RpcmVjdG9yeSwgZmlsZW5hbWUpCiAgICAgICAgICAgIG91dHB1dF9maWxlID0gb3MucGF0aC5qb2luKG91dHB1dF9kaXJlY3RvcnksIGZpbGVuYW1lKQogICAgICAgICAgICBlbmNvZGVfcHl0aG9uX2NvZGUoc291cmNlX2NvZGVfZmlsZSwgb3V0cHV0X2ZpbGUpCiAgICAgICAgICAgIHByaW50KGYiRW5jb2RlZCB7ZmlsZW5hbWV9IGFuZCBzYXZlZCB0byB7b3V0cHV0X2ZpbGV9IikKCmRlZiBtYWluKCk6CiAgICBzb3VyY2VfZGlyZWN0b3J5ID0gJy9Vc2Vycy9hcm5hdWRjb3VicmFuL0RvY3VtZW50cy9Db3VycyBCMy9Qcm9qZXRfZGVfZmluLycgIAogICAgb3V0cHV0X2RpcmVjdG9yeSA9ICcvVXNlcnMvYXJuYXVkY291YnJhbi9Eb2N1bWVudHMvQ291cnMgQjMvUHJvamV0X2RlX2Zpbi9TY3JpcHRfb2JmdXNxdWUnICAKICAgIGVuY29kZV9kaXJlY3Rvcnkoc291cmNlX2RpcmVjdG9yeSwgb3V0cHV0X2RpcmVjdG9yeSkKICAgIHByaW50KCJBbGwgZmlsZXMgaGF2ZSBiZWVuIGVuY29kZWQgYW5kIHNhdmVkIHRvIHRoZSBvdXRwdXQgZGlyZWN0b3J5LiIpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg==').decode('utf-8'))
